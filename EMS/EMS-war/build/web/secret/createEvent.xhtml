<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                template="./../layout/default.xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:p="http://primefaces.org/ui">
    <ui:define name="title">
        Create Event
    </ui:define>
    <ui:define name="content">
        <h:form id="eventForm">
            <p:growl id="growl" showDetail="true" sticky="true"/>
            <p:panelGrid columns="2" style="width:100%; margin-bottom:10px">
                <f:facet name="header">
                    Event Details
                </f:facet>
                
                <h:outputLabel for="title">Event Name: </h:outputLabel>
                <p:inputText id="title" value="#{eventManagedBean.title}" required="true" requiredMessage="Event Name is required"/>

                <h:outputLabel for="description">Description: </h:outputLabel>
                <p:inputTextarea id="description" value="#{eventManagedBean.description}" required="true" requiredMessage="Description is required"/>
                
                <h:outputLabel for="location">Location: </h:outputLabel>
                <p:inputText id="location" value="#{eventManagedBean.location}" required="true" requiredMessage="Location is required"/>
                
                <h:outputLabel for="eventDate">Event Date: </h:outputLabel>
                <p:calendar id="eventDate" value="#{eventManagedBean.eventDate}" pattern="dd/MM/yyyy" required="true" requiredMessage="Event Date is required"/>

                <h:outputLabel for="deadline">Registration Deadline: </h:outputLabel>
                <p:calendar id="deadline" value="#{eventManagedBean.deadline}" pattern="dd/MM/yyyy" required="true" requiredMessage="Registration Deadline is required"/>

                <h:outputLabel for="creator">Organiser Username: </h:outputLabel>
                <p:inputText id="creator" value="#{authenticationManagedBean.username}" disabled="true"/>
                
            </p:panelGrid>
            <p:commandButton value="Create Event" actionListener="#{eventManagedBean.addEvent}" action="searchEvents.xhtml?faces-redirect=true" update=":eventForm:growl"/>
        </h:form>
    </ui:define>
</ui:composition>
