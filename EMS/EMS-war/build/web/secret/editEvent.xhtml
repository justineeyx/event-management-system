<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:p="http://primefaces.org/ui"
                template="./../layout/default.xhtml">
    
    <f:metadata>
        <f:viewParam name="eventId" value="#{regManagedBean.eventId}" />
        <f:viewParam name="eventId" value="#{eventManagedBean.smth}" />
        <f:viewAction action="#{regManagedBean.loadEventDetails()}" />
    </f:metadata>

    <ui:define name="content">
        <h:form id="editForm">
            <p:growl id="growl" showDetail="true" sticky="true" />
        <p:panelGrid columns="2">
            <f:facet name="header">
                    View Event Details
                </f:facet>
            <h:outputLabel value="Title:" for="title" />
            <p:inputText id="title" value="#{regManagedBean.selectedEvent.title}"/>

            <h:outputLabel value="Description:" for="description" />
            <p:inputText id="description" value="#{regManagedBean.selectedEvent.description}"/>

            <h:outputLabel value="Location:" for="location" />
            <p:inputText id="location" value="#{regManagedBean.selectedEvent.location}"/>

            <h:outputLabel value="Event Date:" for="date" />
            <p:calendar id="date" value="#{regManagedBean.selectedEvent.eventDate}">
                <f:convertDateTime pattern="dd/MM/yyyy" timeZone="GMT+8"/>
            </p:calendar>

            <h:outputLabel value="Deadline:" for="deadline" />
            <p:calendar id="deadline" value="#{regManagedBean.selectedEvent.deadline}">
                <f:convertDateTime pattern="dd/MM/yyyy" timeZone="GMT+8"/>
            </p:calendar>
            <f:facet name="footer">
                    <p:commandButton value="Save Changes" action="#{regManagedBean.updateEvent()}" update=":editForm" />
                    <p:commandButton value="Cancel" action="viewProfile.xhtml?faces-redirect=true" immediate="true"/>
                    <a href="../../src/java/managedbean/RegManagedBean.java"></a>
                </f:facet>
        </p:panelGrid>
        </h:form>
    </ui:define>
</ui:composition>
